@layer components {
  /* ===== UNIVERSAL NOTIFICATION BAR - Mobile Sticky Fix ===== */
  /* 
   * On mobile, navigation is sticky at top:0. 
   * The notification bar must be positioned below it (top: 3rem = 48px = h-12).
   * On desktop, navigation is relative, so notification bar can be at top:0.
   */
  .notification-bar-sticky {
    position: sticky;
    z-index: 40; /* Below nav's z-50 */
    top: 3rem; /* Below mobile nav (h-12 = 3rem = 48px) */
  }

  @media (min-width: 768px) {
    .notification-bar-sticky {
      top: 0; /* On desktop, nav is relative, so we can be at top */
      z-index: 50;
    }
  }

  /* ===== MOBILE RESPONSIVE UTILITIES ===== */

  /* Extra small screens (below 480px) */
  @media (max-width: 479px) {
    .xs\:block {
      display: block;
    }
    .xs\:hidden {
      display: none;
    }
    .xs\:flex {
      display: flex;
    }
  }

  /* Small screens and up (480px+) */
  @media (min-width: 480px) {
    .xs\:block {
      display: block;
    }
  }

  /* Mobile-first dropdown positioning */
  .mobile-dropdown {
    @apply absolute z-20 rounded-lg shadow-lg min-w-full max-h-60 overflow-y-auto;
    /* Default to left positioning on mobile */
    left: 0;
    top: 100%;
    width: 100%;
    min-width: max-content;
  }

  /* On larger screens, allow right positioning */
  @media (min-width: 640px) {
    .mobile-dropdown.sm\:right-0 {
      left: auto;
      right: 0;
      width: auto;
      min-width: 200px;
    }
  }

  /* Mobile table improvements */
  @media (max-width: 640px) {
    .mobile-table th,
    .mobile-table td {
      @apply px-2 py-2 text-sm;
    }
    .mobile-table th:first-child,
    .mobile-table td:first-child {
      @apply pl-4;
    }
    .mobile-table th:last-child,
    .mobile-table td:last-child {
      @apply pr-4;
    }
  }

  /* Improved button spacing on mobile */
  .mobile-button-group {
    @apply flex flex-col sm:flex-row gap-2 sm:gap-3;
  }

  .mobile-button-group .mobile-button {
    @apply w-full sm:w-auto;
  }
}
